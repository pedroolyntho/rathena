// Main Quest :: TutorialVer2
//============================================================
mid_camp,223,241,3	script	Herm, the Guide	904,{
	if (isbegin_quest(30004) != 2) {
		// Fall through
	} else if (checkquest(9167) == -1) {
	OnStartQuest:
		if (@tutorial_restart) {
			set .@tutorial_restart,1;
			set @tutorial_restart,0;
		}
		mes "[Herm, the Guide]";
		mes "Lately, it has been said that";
		mes "they are developing ways to add options";
		mes "to put in sockets or add statuses";
		mes "on equipment that normally don't have it.";
		mes "They call that ^006400Enchant^000000.";
		next;
		mes "[Herm, the Guide]";
		mes "After seeing that being developed,";
		mes "I was so inspired by it";
		mes "that I worked hard to discover";
		mes "a way to do it and I finally";
		mes "made my own way to ^006400Enchant^000000!";
		next;
		mes "[Herm, the Guide]";
		mes "But in order do to this";
		mes "I need some special materials.";
		mes "If you're okay with it...";
		mes "Do you think you can";
		mes "help me out by gathering them?";
		next;
		switch(select("Sure, I can help out!:I'm a little busy right now...")) {
		case 1:
			mes "[Herm, the Guide]";
			mes "However, looking at you";
			mes "in your current state makes me";
			mes "doubt your ability to gather";
			mes "the items I need...";
			next;
			mes "[Herm, the Guide]";
			mes "Well, I guess if you employ";
			mes "a ^006400Mercenary^000000 for this";
			mes "then I think I can entrust you";
			mes "with my requests... right?";
			next;
			mes "[Herm, the Guide]";
			mes "In order to employ a Mercenary,";
			mes "go find the ^006400Mercenary Guild^000000";
			mes "which is by the front door of ^8B4513Prontera^000000.";
			mes "Go to the ^006400Information Agent^000000";
			mes "and ask them where the ^006400Mercenary Guild Official^000000";
			mes "is located and they will let you know.";
			next;
			mes "[Herm, the Guide]";
			mes "We also have guilds in ^8B4513Payon^000000";
			mes "and ^8B4513Izlude^000000.";
			mes "I guess you'll have to find out the specific spot.";
			next;
			mes "[Herm, the Guide]";
			mes "I will give you some Butterfly Wings in case you get lost.";
			mes "They will teleport you home. You can ask my friend, here, from";
			mes "the Kafra corporation, to set your base here in case you die.";
			mes "Make sure you always know where you're at! Midgard is cruel...";
			next;
			getitem 602,2;
			if (.@tutorial_restart) {
				erasequest 9167;
				erasequest 9168;
				erasequest 9169;
				erasequest 9170;
				erasequest 9171;
				erasequest 9172;
				completequest 9173;
				erasequest 9173;
			}
			mes "[Herm, the Guide]";
			mes "Now... Hurry and employ";
			mes "a ^006400Mercenary^000000 and come back to me!";
			setquest 9167;
			completequest 30006;
			getexp 500,0; //reward 10 extra
			Zeny += 250; //reward 10 extra
			dispbottom "You've gained 250 Zeny.";
			next;
			mes "[Herm, the Guide]";
			mes "If you don't have enough money to hire them, look for making some.";
			mes "Find Langry in Geffen Field 07, I've heard he is helping people over and over.";
			mes "He may offer you a task and give you some money in return.";
			close;
		case 2:
			mes "[Herm, the Guide]";
			mes "Well since you said you're busy";
			mes "I can't be helped...";
			mes "When you're not so busy, come find me again.";
			close;
		}
	} else if (checkquest(9167) == 0 || checkquest(9167) == 1) {
		if (!getmercinfo(1)) {
			mes "[Herm, the Guide]";
			mes "You haven't gotten a mercenary yet.";
			next;
			mes "[Herm, the Guide]";
			mes "In order to employ a Mercenary,";
			mes "go find the ^006400Mercenary Guild^000000";
			mes "which is by the front door of ^8B4513Prontera^000000.";
			mes "Go to the ^006400Information Agent^000000";
			mes "and ask them where the ^006400Mercenary Guild Official^000000";
			mes "is located and they will let you know.";
			next;
			mes "[Herm, the Guide]";
			mes "We also have guilds in ^8B4513Payon^000000";
			mes "and ^8B4513Izlude^000000.";
			mes "I guess you'll have to find out the specific spot.";
			next;
			mes "[Herm, the Guide]";
			mes "Now... Hurry and employ";
			mes "a ^006400Mercenary^000000 and come back to me!";
			next;
			mes "[Herm, the Guide]";
			mes "If you don't have enough money to hire them, look for making some.";
			mes "Find Langry in Geffen Field 07, I've heard he is helping people over and over.";
			mes "He may offer you a task and give you some money in return.";
			close;
		}
		mes "[Herm, the Guide]";
		mes "Seeing you with a ^006400Mercenary^000000 definitely makes me trust you more.";
		next;
		mes "[Herm, the Guide]";
		mes "Now, let's see... In order to";
		mes "get this ^006400Enchant^000000 to succeed";
		mes "you have to go gather some materials for me...";
		mes "What I need is...";
		mes "..............";
		next;
		select("I don't think I heard you clearly...");
		mes "[Herm, the Guide]";
		mes "I really don't like to repeat myself..";
		mes "If you ask me again like that";
		mes "does it just make your mouth tired?";
		mes "In these situations, open your ^006400Quest Window^000000";
		mes "and you can see what is requested of you";
		mes "and the details of my request.";
		next;
		mes "[Herm, the Guide]";
		mes "If you look at the top left";
		mes "in the area with the information,";
		mes "it says ^006400QUEST^000000";
		mes "and if you click that";
		mes "it'll show all information";
		mes "that pertains to the request.";
		next;
		mes "[Herm, the Guide]";
		mes "Once you verify what materials";
		mes "you need go gather from";
		mes "the ^006400Quest Window^000000,";
		mes "come find and talk to me again.";
		completequest 9167;
		setquest 9168;
		close;
	} else if (checkquest(9168) == 0 || checkquest(9168) == 1) {
		if (checkweight(607,1) == 0) {
			if (MaxWeight - Weight < getiteminfo(607, ITEMINFO_WEIGHT)) {
				mes "[Herm, the Guide]";
				mes "You seemed to be sluggish with a lot of items";
				mes "in your inventory making you heavy...";
				mes "It'll be hard to do my request";
				mes "when you're heavy with all that junk!";
				mes "Go empty out your inventory and come back to me.";
				close;
			} else {
				mes "[Herm, the Guide]";
				mes "It seems that you have";
				mes "one too many items on you...";
				mes "If you want to help me out";
				mes "then you're gonna have to put some";
				mes "stuff away then come back.";
				close;
			}
		}
		mes "[Herm, the Guide]";
		mes "Did you open your ^006400Quest Window^000000";
		mes "to verify the materials?";
		next;
		switch(select("Yup!:No...:Where is the Quest Window...")) {
		case 1:
			mes "[Herm, the Guide]";
			mes "Oh yeah? Then shall I test you to see";
			mes "if you really checked it?";
			mes "Write down what material I asked you to get.";
			next;
			input .@inputstr$;
			if (.@inputstr$ == "10 Jellopy") {
				mes "[Herm, the Guide]";
				mes "Good, you know.";
				mes "Now, are you feeling pretty familiar";
				mes "about the ^006400Quest Window^000000?";
				mes "But there is an issue...";
				mes "You know what material to collect,";
				mes "but gathering that won't be easy.";
				next;
				mes "[Herm, the Guide]";
				mes "Also, there is one thing";
				mes "I absolutely think you need to try.";
				mes "And that is...";
				mes "the ^006400Universal Silver Catalog^000000.";
				next;
				mes "[Herm, the Guide]";
				mes "The ^006400Universal Silver Catalog^000000";
				mes "can be obtained from";
				mes "the ^0000FFCatalogue Wizard^000000";
				mes "that is located in his room, inside the tent.";
				next;
				mes "[Herm, the Guide]";
				mes "Now, go and obtain";
				mes "a ^006400Universal Silver Catalog^000000";
				mes "then come back and talk to me.";
				completequest 9168;
				setquest 9169;
				close;
			}
			mes "[Herm, the Guide]";
			mes "You... still don't seem";
			mes "to know much about the";
			mes "^006400Quest Window^000000.";
			mes "I will inform you again.";
			next;
			break;
		case 2:
			mes "[Herm, the Guide]";
			mes "Hurry and check to see";
			mes "what materials are required in";
			mes "your ^006400Quest Window^000000.";
			close;
		case 3:
			break;
		}
		mes "[Herm, the Guide]";
		mes "If you look at the top left";
		mes "in the area with the information,";
		mes "it says ^006400QUEST^000000";
		mes "and if you click that";
		mes "it'll show all information";
		mes "that pertains to the request.";
		next;
		mes "[Herm, the Guide]";
		mes "Once you verify what materials";
		mes "you need go gather from";
		mes "the ^006400Quest Window^000000,";
		mes "come find and talk to me again.";
		close;
	} else if (checkquest(9169) == 0 || checkquest(9169) == 1) {
		if (countitem(12580) == 0) {
			mes "[Herm, the Guide]";
			mes "Hmm? So I noticed that";
			mes "you haven't gone and picked up a";
			mes "^006400Universal Silver Catalog^000000 yet!";
			next;
			mes "[Herm, the Guide]";
			mes "You can get the";
			mes "^006400Universal Silver Catalog^000000";
			mes "the ^0000FFCatalogue Wizard^000000";
			mes "that is located in his room, inside the tent.";
			next;
			mes "[Herm, the Guide]";
			mes "So, go and get the";
			mes "^006400Universal Silver Catalog^000000";
			mes "then come back to me.";
			close;
		}
		mes "[Herm, the Guide]";
		mes "Oh! You managed to get a";
		mes "^006400Universal Silver Catalog^000000!";
		next;
		mes "[Herm, the Guide]";
		mes "This lets you browse and search";
		mes "through all the various stores";
		mes "that are on the same map and";
		mes "are open for vending.";
		next;
		mes "[Herm, the Guide]";
		mes "It only costs 200 zeny for one";
		mes "of these and with it you can";
		mes "search up to 10 times.";
		mes "You can say that it's a necessity.";
		next;
		mes "[Herm, the Guide]";
		mes "So, go to the area you want";
		mes "and try out the ^006400Universal Silver Catalog^000000";
		mes "then come and find me";
		mes "after you've done this.";
		completequest 9169;
		setquest 9170;
		close;
	} else if (checkquest(9170) == 0 || checkquest(9170) == 1) {
		if (countitem(12580)) {
			mes "[Herm, the Guide]";
			mes "Hmm... It seems that you still have";
			mes "the ^006400Universal Silver Catalog^000000 in your inventory.";
			mes "Since you're saying you forgot how to use it";
			mes "I'll explain it to you again.";
			next;
			mes "[Herm, the Guide]";
			mes "You see... the ^006400Universal Silver Catalog^000000";
			mes "lets you browse and search";
			mes "through all the various stores";
			mes "that are on the same map and";
			mes "are open for vending.";
			next;
			mes "[Herm, the Guide]";
			mes "So, go to the area you want";
			mes "and try out the ^006400Universal Silver Catalog^000000";
			mes "them come and find me";
			mes "after you've done this.";
			close;
		}
		mes "[Herm, the Guide]";
		mes "How do you feel after trying out";
		mes "the ^006400Universal Silver Catalog^000000?";
		mes "It feels a lot easier than";
		mes "going through each individual";
		mes "vendor and finding the item";
		mes "you need, right?";
		next;
		mes "[Herm, the Guide]";
		mes "Now, go out and gather";
		mes "the materials I need and";
		mes "I will make sure to give you";
		mes "a fantastic ^006400enchant^000000!";
		mes "I'll be waiting!";
		completequest 9170;
		setquest 9171;
		close;
	} else if (checkquest(9171) == 0 || checkquest(9171) == 1) {
		if (countitem(909) < 10) {
			mes "[Herm, the Guide]";
			mes "It seems you didn't bring";
			mes "enough materials. Did you forget";
			mes "what you needed to gather?";
			next;
			switch(select("Yeah...:Nope!")) {
			case 1:
				mes "[Herm, the Guide]";
				mes "I've been told that if you click the";
				mes "thing on the top left that says";
				mes "^006400QUEST^000000, it'll show you all";
				mes "the information that you need";
				mes "that pertains to your requests.";
				next;
				mes "[Herm, the Guide]";
				mes "Once you gather all the materials";
				mes "that are listed in your ^006400Quest Window^000000";
				mes "come and talk to me.";
				close;
			case 2:
				mes "[Herm, the Guide]";
				mes "When you gather the items";
				mes "come to me and I will show you";
				mes "an awesome ^006400ENCHANT^000000.";
				mes "I'll be waiting!";
				close;
			}
		}
		if (checkweight(607,6) == 0) {
			if (MaxWeight - Weight < getiteminfo(607, ITEMINFO_WEIGHT)) {
				mes "[Herm, the Guide]";
				mes "Your inventory seems to be really full";
				mes "with various stuff... Do you think";
				mes "you can get anything done when you're so";
				mes "weighed down? Go put some stuff away";
				mes "then come back to me.";
				close;
			} else {
				mes "[Herm, the Guide]";
				mes "You seem to have too much stuff";
				mes "in your inventory... Go put some";
				mes "stuff away then come back to me";
				mes "when you have less suff on you.";
				close;
			}
		}
		mes "[Herm, the Guide]";
		mes "You got everything I asked for!";
		mes "So~ Shall we start on the awesome";
		mes "Enchant that I found and developed?";
		next;
		specialeffect EF_BASH3D2;
		mes "[Herm, the Guide]";
		mes "Okay! Now for the first skill!!";
		mes "To add a new ability to your armor...";
		mes "^006400HIDDEN SOCKET ENCHANT^000000!!";
		next;
		specialeffect EF_BASH3D2;
		mes "[Herm, the Guide]";
		mes "And for the second skill!!";
		mes "To add a new socket into your";
		mes "weapon and shield...";
		mes "^006400SOCKET ENCHANT^000000!!";
		next;
		mes "[Herm, the Guide]";
		mes "There. The Enchant is done. You can't understand the process by just watching me, so I'll let you look at the items themselves.";
		delitem 909,10; //Jellopy
		completequest 9171;
		setquest 9172;
		getitem2 15033,1,1,0,0,0,0,0,4702; //Tutorial_Mattle[Strength3]
		getitem 15033,1; //Tutorial_Mattle
		getitem 15034,1; //Tutorial_Mattle_
		next;
		mes "[Herm, the Guide]";
		mes "Those items cannot be";
		mes "worn or traded so don't even";
		mes "think about running away with them.";
		mes "When you're done looking at them,";
		mes "give them back to me.";
		close;
	} else if (checkquest(9172) == 0 || checkquest(9172) == 1) {
		if (countitem(15033) == 0 || countitem(15034) == 0) {
			mes "[Herm, the Guide]";
			mes "What did you do with the Enchanted";
			mes "items I lent to you to look at?";
			mes "Until you bring back the fruits of";
			mes "my labor, I don't want to talk to you,";
			mes "let alone see your face.";
			close;
		}
		mes "[Herm, the Guide]";
		mes "Are you done looking over";
		mes "the items I Enchanted?";
		next;
		switch(select("Yes, thank you.:I haven't looked at them yet.")) {
		case 1:
			mes "[Herm, the Guide]";
			mes "So what did you think after inspecting it? Now that you've looked at an actual Enchanted item, do you understand it?";
			// Item deletions moved below to prevent errors.
			next;
			mes "[Herm, the Guide]";
			mes "Thanks to you I was able to see great results of my research and study.";
			next;
			mes "[Herm, the Guide]";
			mes "If you have any questions about anything that I discussed with you, I will tell you everything! Thanks for your hard work!";
			delitem 15033,2;
			delitem 15034,1;
			completequest 9172;
			setquest 9173;
			getexp 500,0;
			close;
		case 2:
			mes "[Herm, the Guide]";
			mes "Take your time to look them over";
			mes "then bring them back to me.";
			close;
		}
	} else if (checkquest(9173) == 0 || checkquest(9173) == 1) {
		mes "[Herm, the Guide]";
		mes "Do you have any questions?";
		next;
		switch(select("Can I do the same quest again?:About the Quest Window...:About ENCHANT...:About Searching Vends...:About Mercenary and Pets...:End Conversation.")) {
		case 1:
			if (checkquest(9173,PLAYTIME) == 0 || checkquest(9173,PLAYTIME) == 1) {
				mes "[Herm, the Guide]";
				mes "The one method to do the same quests repeatdedly is to do the ^006400Daily Quests^000000.";
				next;
				mes "[Herm, the Guide]";
				mes "Once you complete a ^006400Daily Quest^000000 and turn it in, wait about a day then come back to get the request and do it all over again!";
				mes "[Herm, the Guide]";
				mes "If you received a daily quest, look at bottom right of the ^006400Quest Window^000000. There is a section that is called ^006400LIMITED^000000. In that section, it'll tell you how much time needs to pass before you can pick up another daily quest.";
				next;
				mes "[Herm, the Guide]";
				mes "It seems you still have some time left to wait out after finishing my quest. Wait it out a bit more, then come find me and you can get the same quest again.";
				close;
			}
			mes "[Herm, the Guide]";
			mes "It seems that about a day has passed since you've finished my quest. Alright, so like the ^006400Daily Quests^000000, you can get a quest from me. Did you want to proceed?";
			next;
			switch(select("Yes:No")) {
			case 1:
				set @tutorial_restart,1;
				goto OnStartQuest;
			case 2:
				mes "[Herm, the Guide]";
				mes "Okay. But if you change your mind and want to receive a quest, come find me.";
				close;
			}
		case 2:
			mes "[Herm, the Guide]";
			mes "They say that the ^006400Quest Window^000000 details out everything you need to know about your quests.";
			next;
			mes "[Herm, the Guide]";
			mes "If you look at the top left";
			mes "in the area with the information,";
			mes "it says ^006400QUEST^000000";
			mes "and if you click that";
			mes "it'll show all information";
			mes "that pertains to the request.";
			next;
			mes "[Herm, the Guide]";
			mes "Using the ^006400Quest Window^000000 will make your life easier. It'll tell you where to go, what items to get or who to find and etc.";
			close;
		case 3:
			mes "[Herm, the Guide]";
			mes "^006400ENCHANT^000000, in general, is divided into two parts: ^006400SOCKET ENCHANT^000000 and ^006400HIDDEN SOCKET ENCHANT^000000.";
			next;
			mes "[Herm, the Guide]";
			mes "^006400SOCKET ENCHANT^000000 is used to add a SOCKET into equipments and ^006400HIDDEN SOCKET ENCHANT^000000 is used to put in stats into a socket of an armor.";
			next;
			mes "[Herm, the Guide]";
			mes "Of course, in order to do this we are in need of some materials and there is a chance that it may fail, but that's the risk you're taking.";
			next;
			mes "[Herm, the Guide]";
			mes "The people who do the ^006400SOCKET ENCHANT^000000 can be found in ^8B4513Prontera, Morocc, Payon,^000000. ^8B4513Rhitalzen^000000 is in the Refinery and ^0000FFSeiyablem^000000 and ^0000FFReiablem^000000 can be found near the entrance.";
			next;
			mes "[Herm, the Guide]";
			mes "The one who does ^006400HIDDEN SOCKET ENCHANT^000000 is found at the 6 o'clock location of ^8B4513Prontera^000000. Look for the ^0000FFCraftman Apprentice^000000.";
			next;
			mes "[Herm, the Guide]";
			mes "Do you think you understand a little bit more about ^006400ENCHANT^000000?";
			close;
		case 4:
			mes "[Herm, the Guide]";
			mes "^006400Vend Search^000000 can be utilized by the ^006400Universal Silver Catalog^000000 item. Since you search through as vends on that map, it'll make it easier for you to find the item that you're looking for.";
			next;
			mes "[Herm, the Guide]";
			mes "The ^006400Universal Silver Catalog^000000";
			mes "can be obtained from ";
			mes "the ^0000FFCatalogue Wizard^000000";
			mes "that is located in his room, inside the tent.";
			next;
			mes "[Herm, the Guide]";
			mes "It only costs 200 zeny for one";
			mes "of these and with it you can";
			mes "search up to 10 times.";
			mes "You can say that it's a necessity.";
			next;
			mes "[Herm, the Guide]";
			mes "So, are you getting familiar with ^006400Vend Search^000000? Don't just stand there and listen to me. Go ahead and try it for yourself!";
			close;
		case 5:
			mes "[Herm, the Guide]";
			mes "Depending on what you need, ^006400Mercenary^000000 and ^006400Pet^000000 can be used in various ways.";
			next;
			mes "[Herm, the Guide]";
			mes "If a ^006400Mercenary^000000 gives you direct effect";
			mes "by fighting for you";
			mes "then a ^006400Pet^000000 helps you indirectly with their";
			mes "abilities and varied appearances,";
			mes "and it captures your heart.";
			next;
			mes "[Herm, the Guide]";
			mes "In order to employ a Mercenary";
			mes "Go find the ^006400Mercenary Guild^000000";
			mes "which is by the front door of ^8B4513Prontera^000000.";
			mes "Go to the ^006400Information Agent^000000";
			mes "and ask them where the ^006400Mercenary Guild Official^000000";
			mes "is located and they will let you know.";
			mes "[Herm, the Guide]";
			mes "We also have guilds in ^8B4513Payon^000000";
			mes "and ^8B4513Izlude^000000.";
			next;
			mes "[Herm, the Guide]";
			mes "In order to get a ^006400Pet^000000, while hunting you will obtain taming items. Use the tame on the monster it's for and you can get a pet.";
			next;
			mes "[Herm, the Guide]";
			mes "Because there is a chance for failure, please use the taming item with great care.";
			next;
			mes "[Herm, the Guide]";
			mes "That aside... you can get a ^006400Mercenary^000000 from the Mercenary Guild and you can get a ^006400Pet^000000 by trading or buying it from another player.";
			next;
			mes "[Herm, the Guide]";
			mes "Now, do you understand a bit more about using a ^006400Mercenary^000000 and a ^006400Pet^000000? I hope you get a chance to use them in the future.";
			close;
		case 6:
			mes "[Herm, the Guide]";
			mes "If you have any questions, come find me again.";
			close;
		}
	}
	mes "[Herm, the Guide]";
	mes "Lately, it has been said that";
	mes "they are developing ways to add options";
	mes "to put in sockets or add statuses";
	mes "on equipment that normally don't have it.";
	close;
OnInit:
	// Display an icon if the player has completed the given hunting quest and his/her variable 'unknown_var' is above 0
	questinfo QTYPE_QUEST, QMARK_GREEN, "isbegin_quest(30004) == 2 && checkquest(9173) == -1";
	end;
}

// - Therapist (Red Herb Quest + First Aid)
// - Gives the player a basic quest and teaches them First Aid.
// -----------------------------------------------------------------------------
mid_camp,242,242,3	script	Therapist#ac	4_M_6THPRIN1,{
	if (!checkweight(1304,3)) {
		mes "Quest cannot be continued due to the overfilled inventory.";
		mes "Please try it again after organizing the items.";
		close;
	}
	mes "[Therapist]";
		mes "Are you an adventurer?";
		mes "Do you have any problem in your body?";
		next;
		.@menu$ = "Help me!:^ff0000Red Herb Quest^000000:Save Location";
	switch(select(.@menu$)) {
	case 1:
		if (BaseLevel <= 4) {
			mes "[Therapist]";
			mes "Are you injured?";
			mes "Even the emergency treatment didn't work for you?";
			next;
			npcskill "AL_HEAL", 3, 50, 60;
			percentheal 0,50;
			mes "[Therapist]";
			mes "Is that good enough?";
			mes "Have you recovered?";
			mes "If you are sane, go to bed and rest before you go.";
			close;
		} else {
			mes "[Therapist]";
			mes "I feel sorry for you but...";
			mes "I can only give my free healing service to those under base level 4.";
			mes "You don't look like you're going to die anyways.";
			next;
			mes "[Therapist]";
			mes "Just take a rest here until you've recovered.";
			mes "There are lots of vacant beds!";
			close;
		}
		break;
	case 2:
		if (!isbegin_quest(7478)) {
			mes "[Therapist]";
			mes "Have you investigated the growing plants in the field?";
			mes "^4d4dff Red Plant, Blue Plant, Green Plant, White Plant^000000, etc..";
			next;
			mes "[Therapist]";
			mes "You can get different colored herbs from the various plants.";
			mes "Processing herbs turns to be a various useful potions.";
			next;
			mes "[Therapist]";
			mes "Now, shall we collect the Red Herb with your hands?";
			next;
			mes "[Therapist]";
			mes "A ^4d4dffRed Plant is growing somewhere here on the camp.^000000.";
			mes "I secretly planted it for today.";
			mes "Go and get ^4d4dff1 Red Herb^000000.";
			setquest 7478;
			close;
		} else if (isbegin_quest(7478) == 1) {
			if (countitem(507) > 0) {
				mes "[Therapist]";
				mes "You got it.";
				mes "^4d4dffYou could eat this herb and get the benefit of it immediately but it will be more efficient if you make it into a potion.^000000.";
				next;
				mes "[Therapist]";
				mes "Herbs vary their virtues according to their color.";
				mes "^4d4dffGreen Herbs^000000 detox you.";
				mes "^4d4dffBlue Herbs^000000 recover your SP.";
				next;
				mes "[Therapist]";
				mes "Any other?";
				mes "Well, HP is recovering like this red herb.";
				mes "This like this... Make a nectar and put it into a bottle....";
				next;
				mes "[Therapist]";
				mes "This becomes the recovering potion possible to take anywhere, anytime.";
				mes "I will give it to you as souvenir.";
				mes "And also give you the recipe to make potions easily.";
				next;
				mes "[Therapist]";
				mes "This is the book for the simple combination of potion use.";
				mes "You can make it easily by ^4d4dffusing the combination kit or cooking tool^000000.";
				completequest 7478;
				//getexp 500,0;
				//getitem 569,30;// Novice_Potion
				getitem 11058,1;// Novice_Combi_Book
				getitem 12849,10;// Combination_Kit
				getitem 507,1;// Red_Herb
				getitem 512,1;// Apple
				next;
				mes "[Therapist]";
				mes "Not only potions but also other easily attainable things can be turned to various tools. Please make use of them.";
				next;
				mes "[Therapist]";
				mes "For your trial to make it, I gave you a Red Herb and one Apple,";
				mes "How about making it with the combination kit?";
				next;
				mes "[Therapist]";
				mes "Read the combination kit by ^4d4dffright-clicking^000000, and ^4d4dffclick the book shaped icon^000000 which will open up the explanation window.";
				close;
			} else {
				mes "[Therapist]";
				mes "Why don't you learn about the virtues of herbs?";
				mes "Bring one Red Herb by beating the growing Red Herb somewhere on the camp.";
				next;
				mes "[Therapist]";
				mes "You can find it somewhere here in this map.";
				close;
			}
		} else {
			mes "[Therapist]";
			mes "I already let you know about the basic medical botany.";
			mes "By the way, there is something called a ^4d4dffShining Plant^000000 here on Midgard.";
			next;
			mes "[Therapist]";
			mes "Nobody knows which herb comes out from this plant.";
			mes "Once I got the fruit of Yggdrasil.";
			next;
			mes "[Therapist]";
			mes "And, in the Alberta merchant guild, there is an old man making potions.";
			mes "You can ask him for help.";
			next;
			//mes "[Therapist]";
			//mes "^4d4dffAlchemist^000000 or ^4d4dffBiochemist^000000 or the higher class job ^4d4dffGeneticist^000000 are all good at creating potions.";
			//next;
			mes "[Therapist]";
			mes "If you want to have a well-made potion, it may be a good idea to ask for a specialist.";
			close;
		}
	case 3:
		mes "[Therapist]";
		mes "I see...";
		mes "For emergency situations, in case you've fainted and want to be brought back here, I will save your current location.";
		savepoint "mid_camp",240,240,1,1;
		close;
	}

OnInit:
	questinfo( QTYPE_QUEST, QMARK_NONE, "!isbegin_quest(7478) && isbegin_quest(4269) == 2" );
	end;
}

// - Cultivated Red Plant (Red Herb Quest)
// -----------------------------------------------------------------------------
mid_camp,53,145,0	script	Cultivated Red Plant#0	1078,3,3,{
	end;

OnTouch:
	if (isbegin_quest(7478) == 1 && !isbegin_quest(7479)) {
		specialeffect EF_STEAL;
		emotion ET_SMILE, getnpcid(0, "Expedition Student#"+strnpcinfo(2));
		emotion ET_SURPRISE, playerattached();
		donpcevent "Cultivated Red Plant#"+strnpcinfo(2)+"::OnDisable";
	}
	end;

OnDisable:
	disablenpc "Cultivated Red Plant#"+strnpcinfo(2);
	initnpctimer;
	end;

OnTimer30000:
	enablenpc "Cultivated Red Plant#"+strnpcinfo(2);
	stopnpctimer;
	end;
}

// - Academy Student (Red Herb Quest)
// -----------------------------------------------------------------------------
mid_camp,50,147,7	script	Expedition Student#0	4_M_NOV_RUMIN,{
	if (!checkweight(1304,3)) {
		mes "Your inventory is too full so you can't continue this quest.";
		mes "Please try it again after organizing the items.";
		close;
	}
	if (isbegin_quest(7478) == 1 && !isbegin_quest(7479)) {
		specialeffect EF_STEAL, AREA, "Cultivated Red Plant#"+strnpcinfo(2);
		donpcevent "Cultivated Red Plant#"+strnpcinfo(2)+"::OnDisable";
		emotion ET_SURPRISE, playerattached();
		emotion ET_SMILE;
		mes "[Lumin]";
		mes "Hey there Turtle";
		mes "You are really slow.";
		mes "This Red Plant is no longer useful for you.";
		cutin "nov_lumin01.bmp", 2;
		next;
		if (select("What are you talking about?", "Who're you?") == 1) {
			mes "[Lumin]";
			mes "You heard me.";
			mes "Aren't you here to collect the Red Plant for the expedition Therapist.";
			next;
			mes "[Lumin]";
			mes "But, But something weird just happened.";
			mes "It happened right before my eyes.";
			next;
		} else {
			if (isbegin_quest(7472) > 0 || isbegin_quest(7474) > 1) {
				mes "[Lumin]";
				mes "Did you lose your memory?";
				mes "If Siegfried hears about it, he'll cry.";
				mes "It is still ok as long as I remember you.";
				cutin "nov_lumin02.bmp", 2;
				next;
			} else {
				mes "[Lumin]";
				mes "Lumin.";
				mes ".......";
				mes "How about being happy?";
				cutin "nov_lumin04.bmp", 2;
				next;
			}
		}
		mes "[Lumin]";
		mes "Anyway, let me explain it to you, I have just cut all the leaves of this Red Plant.";
		mes "You can't collect the Red Plant anymore.";
		cutin "nov_lumin02.bmp", 2;
		next;
		select("Ok so give me a ^ff0000Red Herb^000000");
		mes "[Lumin]";
		mes "OK... then...";
		mes "I don't even need it anyways. I already know all about basic medical botany.";
		cutin "nov_lumin03.bmp", 2;
		next;
		select("Then, why did you do it?");
		mes "[Lumin]";
		mes "I didn't do it!";
		mes "I was just standing here.";
		cutin "nov_lumin05.bmp", 2;
		next;
		mes "[Lumin]";
		mes "Here take this Red Herb.";
		cutin "nov_lumin01.bmp", 2;
		setquest 7479;
		completequest 7479;
		getitem 507,1;// Red_Herb
		next;
		mes "[Lumin]";
		mes "Ah... see it's growing back.";
		enablenpc "Cultivated Red Plant#"+strnpcinfo(2);
		close2;
	} else {
		if (Class == Job_Novice) {
			if (isbegin_quest(7478) == 1) {
				mes "[Lumin]";
				mes "I guess you should go back to the Therapist.";
				mes "He's probably waiting for you..";
				cutin "nov_lumin01.bmp", 2;
				close2;
			} else {
				mes "He seems to think of something deeply.";
				mes "Disregard it.";
				close;
			}
		} else {
			if (isbegin_quest(7479) == 2) {
				mes "[Criatura Student]";
				mes ".......";
				next;
				mes "This student looks familiar...";
				close;
			} else {
				mes "[Criatura Student]";
				mes ".......";
				close;
			}
		}
	}
	cutin "", 255;
	end;

OnInit:
	questinfo( QTYPE_QUEST, QMARK_YELLOW, "!isbegin_quest(7479) && isbegin_quest(7478) == 1" );
	end;
}